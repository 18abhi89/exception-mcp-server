exception_id,event_id,error_message,exception_type,exception_category,exception_sub_category,source_system,times_replayed,trace,resolution
650e8400-e29b-41d4-a716-446655440001,EVT-H001,Unsupported event type 'TRANSFER' not in allowed list,ValidationException,VALIDATION,INVALID_EVENT,ATLAS,8,java.lang.IllegalArgumentException: Invalid event type,"Root cause: ATLAS system sending unsupported event types. Resolution: Added TRANSFER to allowed event types list in trade-ingestion-service configuration. Updated schema validation to accept new event type. No code changes needed."
650e8400-e29b-41d4-a716-446655440002,EVT-H002,DELETE operation on non-existent trade ID TRD-99999,OrderingException,SEQUENCING,OUT_OF_ORDER,ATLAS,12,java.lang.IllegalStateException: Trade not found,"Root cause: DELETE events arriving before corresponding NEW events due to Kafka partition lag. Resolution: Implemented grace period of 5 minutes for DELETE operations. If trade not found, message is parked in DLQ for retry. Also added trade existence check with cache lookup."
650e8400-e29b-41d4-a716-446655440003,EVT-H003,Schema validation failed: missing required field 'settlement_date',ValidationException,VALIDATION,INVALID_EVENT,trade-ingestion-service,10,javax.validation.ValidationException: Missing field,"Root cause: Upstream service not populating settlement_date for certain trade types. Resolution: Made settlement_date optional for CASH trades. Added default calculation logic for missing settlement dates based on trade_date + T+2 business days."
650e8400-e29b-41d4-a716-446655440004,EVT-H004,Settlement date calculation failed: invalid business day,BusinessException,BUSINESS_LOGIC,CALCULATION_ERROR,trade-ingestion-service,15,java.time.DateTimeException: Invalid date,"Root cause: Holiday calendar not updated for 2025. Resolution: Updated holiday calendar service with 2025 dates. Added fallback logic to use next business day if calculated date is invalid. Implemented cache for business day lookups."
650e8400-e29b-41d4-a716-446655440005,EVT-H005,Version 10 received before version 9 for trade ID TRD-88888,OrderingException,SEQUENCING,OUT_OF_ORDER,ATLAS,6,java.lang.IllegalStateException: Version mismatch,"Root cause: Out-of-order message delivery from Kafka. Resolution: Implemented version gap detection with automatic parking. Messages with version gaps > 1 are parked for 2 minutes to allow missing versions to arrive. Added version sequence validator."
650e8400-e29b-41d4-a716-446655440006,EVT-H006,Event type field is null or empty in message,ValidationException,VALIDATION,INVALID_EVENT,ATLAS,5,java.lang.NullPointerException,"Root cause: Malformed messages from upstream with null event_type. Resolution: Added null-safety checks at ingestion boundary. Messages with null event_type are rejected immediately with clear error message sent back to upstream team via monitoring alert."
650e8400-e29b-41d4-a716-446655440007,EVT-H007,Duplicate event_id 'EVT-H007-DUP' detected in database,DuplicateException,DUPLICATE,PREVIOUSLY_PROCESSED_MESSAGE,ATLAS,0,com.trading.DuplicateMessageException,"Root cause: Kafka consumer group rebalance causing duplicate consumption. Resolution: Implemented idempotency key using event_id + event_version. Added unique constraint on (event_id, event_version) in database. Duplicates are now safely ignored."
650e8400-e29b-41d4-a716-446655440008,EVT-H008,CANCEL event received before NEW event for trade ID TRD-55555,OrderingException,SEQUENCING,OUT_OF_ORDER,ATLAS,7,java.lang.IllegalStateException: Trade not found,"Root cause: Message ordering issue in Kafka topic. Resolution: Implemented temporal parking strategy. CANCEL/MODIFY/DELETE events for non-existent trades are parked for 3 minutes in memory cache. If NEW arrives within window, events are replayed in order. Otherwise, moved to DLQ."
650e8400-e29b-41d4-a716-446655440009,EVT-H009,Connection timeout to settlement obligation service,TimeoutException,INFRASTRUCTURE,TIMEOUT,trade-consumer-service,20,java.net.SocketTimeoutException: Read timed out,"Root cause: SO service experiencing high load during peak hours. Resolution: Increased timeout from 5s to 15s. Implemented circuit breaker pattern with fallback to async processing. Added retry with exponential backoff (3 retries max)."
650e8400-e29b-41d4-a716-446655440010,EVT-H010,Invalid currency code 'XXX' in trade payload,ValidationException,VALIDATION,INVALID_EVENT,ATLAS,4,java.lang.IllegalArgumentException: Unknown currency,"Root cause: Upstream system sending test data to production. Resolution: Added currency code validation against ISO 4217 standard. Implemented whitelist of supported currencies. Invalid currencies now fail-fast with clear error message to upstream."
